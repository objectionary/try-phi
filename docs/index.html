<!DOCTYPE html>
<meta charset="utf-8">
<title>EO editor</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;700&display=swap" rel="stylesheet">
<style>
    body {
        max-width: 992px;
        margin: auto;
        padding: 8px 16px;
    }
</style>

<body>
    <div>
        <h2>EO editor</h2>
         based on <a href="https://codemirror.net/6/">Codemirror 6</a>
    </div>
    <br>
    <div>
        <a href="" id="__permalink__">permalink to code</a>
    </div>
    <br>
    <div id="editor">

    </div>

    <script src="build/bundle.js"></script>
    <script>
        // extract query parameters from URL to set editor

        let view = app.view;
        const params = new URLSearchParams(window.location.search);

        let snippet = view.state.doc;
        
        if (params.has("snippet")) {
            snippet = decodeURIComponent(params.get("snippet"));
        };

        // change editor content
        view.dispatch({
            changes: { from: 0, to: view.state.doc.length, insert: snippet }
        });

    </script>
</body>